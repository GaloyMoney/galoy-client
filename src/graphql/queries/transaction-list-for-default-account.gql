query transactionListForDefaultAccount(
  $first: Int
  $after: String
  $last: Int
  $before: String
) {
  me {
    id
    defaultAccount {
      id
      transactions(first: $first, after: $after, last: $last, before: $before) {
        ...TransactionList
      }
    }
  }
}

fragment TransactionList on TransactionConnection {
  pageInfo {
    hasNextPage
    hasPreviousPage
    startCursor
    endCursor
  }
  edges {
    cursor
    node {
      __typename
      id
      status
      direction
      memo
      createdAt

      settlementAmount
      settlementFee
      settlementCurrency
      settlementPrice {
        base
        offset
        currencyUnit
        formattedAmount
      }

      initiationVia {
        __typename
        ... on InitiationViaIntraLedger {
          counterPartyWalletId
          counterPartyUsername
        }
        ... on InitiationViaLn {
          paymentHash
        }
        ... on InitiationViaOnChain {
          address
        }
      }
      settlementVia {
        __typename
        ... on SettlementViaIntraLedger {
          counterPartyWalletId
          counterPartyUsername
        }
        ... on SettlementViaLn {
          paymentSecret
        }
        ... on SettlementViaOnChain {
          transactionHash
        }
      }
    }
  }
}
